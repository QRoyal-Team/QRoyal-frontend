<div class="head-products text-center p-4">
    <div class="head-tittle"><span>Sản phẩm</span></div>
</div>
<div *ngIf="loading==true" class="text-center d-flex justify-content-center align-items-center"
    style="font-size: 135px;color: rgba(112, 210, 109, 0.567); width: 100%; min-height: 100vh; border-radius: 2%;">
    <span class="spinner-border spinner-border-sm mr-1"></span>
    Waiting...
</div>
<div *ngIf="loading==false" class="body-products p-2">
    <div class="container">
        <div class="row">
            <div class="col-sm-6 col-md-4 col-lg-4 col-xl-3 " *ngFor="let product of products">
                <div class="item-products">
                    <div class="thumb-wrapper">
                        <span class="wish-icon"><i class="fa-solid fa-heart"></i></span>
                        <div class="img-box">
                            <a routerLink="/productdetail" [queryParams]="{id: product.id}">
                            <img src={{product.images[1]}} class="img-fluid" alt={{product.name}}></a>
                        </div>
                        <div class="thumb-content">
                            <h4><a routerLink="/productdetail" [queryParams]="{id: product.id}" >{{product.name}}</a></h4>
                            <p class="item-price"><s *ngIf="product.discount!=0">{{product.price}}đ</s> <span>{{product.price
                                    -(product.price*product.discount/100)}}đ</span></p>
                            <div class="star-rating">
                                <ul class="list-inline">
                                    <li class="list-inline-item"><i class="fa fa-star"></i></li>
                                    <li class="list-inline-item"><i class="fa fa-star"></i></li>
                                    <li class="list-inline-item"><i class="fa fa-star"></i></li>
                                    <li class="list-inline-item"><i class="fa fa-star"></i></li>
                                    <li class="list-inline-item"><i class="fa-regular fa-star"></i></li>
                                </ul>
                            </div>
                            <a (click)="addToCart(product)" class="btn btn-primary">Add to Cart</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="pagination-products">
            <nav class="pagination-outer" aria-label="Page navigation">
                <ul class="pagination">
                    <li class="page-item">
                        <a class="page-link" aria-label="Previous" (click)="setPage(0)">
                            <span aria-hidden="true">«</span>
                        </a>
                    </li>
                    <li class="page-item" *ngFor="let page of [].constructor(pageable.totalPages), let i = index"
                        [ngClass]="{active:pageable.number === i}"><a class="page-link" (click)="setPage(i)">{{i+1}}</a>
                    </li>
                    <li class="page-item">
                        <a (click)="setPage(+pageable.totalPages-1)" class="page-link" aria-label="Next">
                            <span aria-hidden="true">»</span>
                        </a>
                    </li>
                </ul>
            </nav>
        </div>
    </div>
</div>